1.下载的时候需要wget程序，go get需要依赖git
yum -y install git
yum -y install wget
2.上传 certik 到LINUX机器
3.生成证书 
添加执行权限 chmod 777 certik
3.1、初始化证书库
./certik -v tls.db init CA  输入两次相同的密码
3.2、签发一张server证书
./certik -v tls.db server -i 124.71.226.198 server
上面vps云云主机的 ip 是124.71.226.198， 域名简洁起见就叫 server 了，你把124.71.226.198改成你自己的VPS地址
3.3、签发一张client证书
./certik -v tls.db client client
输入上面的密码
3.4、查看证书库
./certik -v tls.db list
输入上面的密码

4、导出各个证书
4.1#导出CA
./certik -v tls.db export --root-ca 
输入上面的密码  可以看到证书信息  复制信息保存为ca.pem文本文件

4.2#导出server
./certik -v tls.db export server
输入上面的密码 可以看到server信息  复制信息保存为server.pem文本文件

4.3#导出client1
./certik -v tls.db export client
输入上面的密码 可以看到client信息  复制信息保存为client.pem文本文件

5.下载生成好的ca.pem server.pem 和 client.pem证书到你的内网 windows机器或者linx机器上
打开客户端文件夹 拷贝你的ca.pem server.pem 和 client.pem证书 到客户端文件夹

修成 pool.bat 里面的 VPS IP地址和端口 22222  改成你的服务器端口和IP
完成后运行 pool.bat

6.将  ca.pem server.pem 和 client.pem证书拷贝到 server 文件夹

修改server文件夹里面的 1.sh

nohup ./ghostunnel server --listen 0.0.0.0:22222 --target eth-hk.flexpool.io:4444 --keystore server.pem --cacert ca.pem --allow-cn client --unsafe-target > /dev/null 2>&1 &

eth-hk.flexpool.io:4444   是矿池的地址和端口   修改成你自己的

7.修改完成发送server文件夹到你的服务器
chmod 777 ghostunnel
sh 1.sh

执行监听
8.把矿机链接矿池的地址 修改成你执行 pool.bat的 机器IP:8007 端口






